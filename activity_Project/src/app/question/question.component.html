<div class="timer" *ngIf="!timeUp">
  โณ ุงูููุช ุงููุชุจูู: {{ formattedTime }}
</div>

<button class="back-button" (click)="goBack()">โฌ๏ธ ุงูุฑุฆูุณูุฉ</button>

<div *ngIf="!timeUp && filteredQuestions.length > 0" class="question-box">
  <h2>Question {{ currentQuestionIndex + 1 }}</h2>

  <!-- ุนุฑุถ ุงููุต ูุงูุตูุฑุฉ ูุนูุง ุฏุงุฎู ุงูุณุคุงู -->
  <div class="question-media">
    <img *ngIf="filteredQuestions[currentQuestionIndex]?.content?.image" 
         [src]="filteredQuestions[currentQuestionIndex].content.image" 
         alt="Question Image" 
         class="question-image">
  </div>

  <h2 class="question-text" *ngIf="filteredQuestions[currentQuestionIndex]?.content?.text">
    {{ filteredQuestions[currentQuestionIndex].content.text }}
  </h2>

  <button class="read-button" (click)="speakQuestion()">๐ Read Question</button>

  <div class="options">
    <button class="option-button" 
            *ngFor="let option of filteredQuestions[currentQuestionIndex]?.options"
            [disabled]="showFeedback" 
            (click)="checkAnswer(option.value)">
      
      <ng-container [ngSwitch]="option.type">
        <span *ngSwitchCase="'text'">{{ option.value }}</span>
        <img *ngSwitchCase="'image'" [src]="option.value" alt="Option Image" class="option-image">
      </ng-container>

    </button>
  </div>

  <div class="feedback" *ngIf="showFeedback">
    <p [ngClass]="isCorrectAnswer ? 'correct' : 'wrong'">
      {{ isCorrectAnswer ? 'โ ุฅุฌุงุจุฉ ุตุญูุญุฉ!' : 'โ ุฎุทุฃ! ุฌุฑูุจ ุชุงูู.' }}
    </p>
    <div class="reward" *ngIf="showReward">
      <img src="assets/images/party.png" alt="Star" class="reward-img" />
    </div>
  </div>

  <button *ngIf="isCorrectAnswer" class="next-button" (click)="nextQuestion()">ุงูุชุงูู โก๏ธ</button>
</div>

<!-- ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุฃุณุฆูุฉ -->
<div *ngIf="filteredQuestions.length === 0">
  <p>ูุง ุชูุฌุฏ ุฃุณุฆูุฉ ููุฐู ุงููุงุฏุฉ ุญุงููุงู ๐ฅ</p>
</div>

<!-- ูู ุญุงูุฉ ุงูุชูุงุก ุงูููุช -->
<div *ngIf="timeUp && !examCompleted" class="time-up-message">
  <h2>ููุฃุณูุ ุงูุชูู ุงูููุช! โฐ</h2>
  <p>ุฌุฑุจ ูุฑุฉ ุชุงููุฉ ูุงุญููุง ๐ข</p>
  <button class="retry-button" (click)="restartExam()">๐ ุฅุนุงุฏุฉ ุงููุญุงููุฉ</button>
</div>

<!-- ูู ุญุงูุฉ ุงูุชูุงุก ุงูุงูุชุญุงู -->
<div *ngIf="examCompleted" class="completion-message">
  <h2>๐ ุจุฑุงูู! ุฎูุตุช ุงูุงูุชุญุงู ๐</h2>
  <h3> ุฃุญุณูุช ๐</h3>
  <img src="assets/images/trophy.jfif" alt="Trophy" class="reward-img" />
</div>
